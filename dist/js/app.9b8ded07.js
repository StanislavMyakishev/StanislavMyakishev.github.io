(function(e){function t(t){for(var a,i,c=t[0],s=t[1],u=t[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,c=1;c<r.length;c++){var s=r[c];0!==n[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0001":function(e,t,r){"use strict";var a=r("f7b8"),n=r.n(a);n.a},"083f":function(e,t,r){e.exports=r.p+"img/favorite_outlined.c7ecf461.svg"},"21bb":function(e,t,r){"use strict";var a=r("7a98"),n=r.n(a);n.a},"3ccc":function(e,t,r){},"4ce1":function(e,t,r){"use strict";var a=r("dd83"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("app-header"),r("div",{staticClass:"content"},[r("router-view")],1),r("app-footer")],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("div",{staticClass:"header__wrapper"},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),r("router-link",{attrs:{to:"/favorite"}},[e._v("Favorite")])],1)])},c=[],s=(r("cae0"),r("2877")),u={},l=Object(s["a"])(u,i,c,!1,null,"af423360",null),p=l.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"footer"},[r("div",{staticClass:"footer__wrapper"},[e.prev?r("a",{staticClass:"footer__link",on:{click:function(t){return t.stopPropagation(),e.handlePageChange(e.page-1)}}},[e._v("Prev")]):r("a",{staticClass:"footer__link-disabled"},[e._v("Prev")]),r("span",[e._v(e._s(e.page))]),e.next?r("a",{staticClass:"footer__link",on:{click:function(t){return t.stopPropagation(),e.handlePageChange(e.page+1)}}},[e._v("Next")]):r("a",{staticClass:"footer__wrapper__link-disabled"},[e._v("Next")]),r("p",[e._v("Stanislav Myakishev 2020")])])])},v=[],d=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),b=r("2f62");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(d["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={name:"v-footer",computed:g({},Object(b["d"])({page:function(e){return e.app.page},prev:function(e){return e.app.prev},next:function(e){return e.app.next}})),methods:{handlePageChange:function(e){this.$store.dispatch("app/handlePageChange",e)}}},_=h,P=(r("8ec9"),Object(s["a"])(_,f,v,!1,null,"3c3aa756",null)),O=P.exports,j={components:{"app-header":p,"app-footer":O}},y=j,w=(r("5c0b"),Object(s["a"])(y,n,o,!1,null,null,null)),E=w.exports,S=r("8c4f"),A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("h1",[e._v("Home")]),e.loading?r("div",{staticClass:"home__loading-wrapper"},[r("img",{attrs:{src:e.loader,alt:""}})]):r("div",{staticClass:"home__grid-wrapper"},[r("section",{staticClass:"home__cards-list"},e._l(e.artPieces,(function(e){return r("v-card",{key:e.objectNumber,attrs:{artPiece:e}})})),1)])])},C=[],I=(r("96cf"),r("3b8d")),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card",on:{click:function(t){return t.stopPropagation(),e.handleShowModal(!0)}}},[r("v-favorite-button",{staticClass:"card__favorite-button",attrs:{isFavorite:e.artPiece.isFavorite},on:{handleButtonAction:e.handleButtonAction}}),r("div",{staticClass:"card__image-container"},[r("img",{attrs:{src:e.artPiece.primaryImageUrl||e.defaultImage,alt:"image"}})]),r("div",{staticClass:"card__content"},[r("p",{staticClass:"card__title text--medium"},[e._v("\n      "+e._s(e.artPiece.title)+"\n    ")])]),r("v-popup",{attrs:{artPiece:e.artPiece,showModal:e.showModal},on:{closePopup:function(t){return e.handleShowModal(!1)}}})],1)},k=[],F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"click-in",rawName:"v-click-in",value:{include:["overlay"],handler:"closePopup"},expression:"{\n    include: ['overlay'],\n    handler: 'closePopup'\n  }"}],staticClass:"v-popup",attrs:{id:"popup"}},[r("transition",{attrs:{name:"fade",appear:""}},[e.showModal?r("div",{ref:"overlay",staticClass:"v-popup__overlay"}):e._e()]),r("transition",{attrs:{name:"slide",appear:""}},[e.showModal?r("div",{ref:"modal",staticClass:"v-popup__modal"},[r("button",{staticClass:"v-popup__close",on:{click:function(t){return t.stopPropagation(),e.closePopup(t)}}},[r("img",{attrs:{src:e.clearImage,alt:""}})]),r("v-favorite-button",{staticClass:"v-popup__favorite-button",attrs:{isFavorite:e.artPiece.isFavorite},on:{handleButtonAction:e.handleButtonAction}}),r("div",{staticClass:"v-popup__modal__image-container"},[r("img",{attrs:{src:e.artPiece.primaryImageUrl||e.defaultImage,alt:"image"}})]),r("div",{staticClass:"v-popup__title"},[r("a",{attrs:{href:e.artPiece.url,target:"_blank"}},[r("h2",[e._v(e._s(e.artPiece.title))])])]),r("div",{staticClass:"v-popup__info"},[r("h4",[r("span",[e._v("Object number: ")]),e._v(e._s(e.artPiece.objectNumber))]),r("h4",[r("span",[e._v("Autors: ")]),e._v(e._s(e.artPiece.namesOfPeople))]),r("h4",[r("span",[e._v("Century: ")]),e._v(e._s(e.artPiece.century))]),r("h4",[r("span",[e._v("Date: ")]),e._v(e._s(e.artPiece.date))])])],1):e._e()])],1)},N=[],D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn-like",on:{click:function(t){return t.stopPropagation(),e.handleButtonAction(t)}}},[e.isFavorite?r("img",{attrs:{src:e.favoriteImage,alt:""}}):e._e(),e.isFavorite?e._e():r("img",{attrs:{src:e.notFavoriteImage,alt:""}})])},T=[],L={name:"v-favorite-button",props:{isFavorite:{type:Boolean,required:!0}},methods:{handleButtonAction:function(){this.$emit("handleButtonAction")}},data:function(){return{favoriteImage:r("7c18"),notFavoriteImage:r("083f")}}},R=L,$=Object(s["a"])(R,D,T,!1,null,null,null),M=$.exports,U={name:"v-popup",props:{artPiece:{type:Object,required:!0},showModal:{type:Boolean,required:!0}},methods:{closePopup:function(){this.$emit("closePopup")},handleButtonAction:function(){this.$store.dispatch("app/handleFavorite",this.artPiece.objectNumber)}},data:function(){return{defaultImage:r("951a"),clearImage:r("a7c8")}},components:{"v-favorite-button":M}},B=U,J=(r("0001"),Object(s["a"])(B,F,N,!1,null,null,null)),V=J.exports,q={name:"v-card",props:{artPiece:{type:Object,required:!0}},data:function(){return{defaultImage:r("951a"),showModal:!1}},methods:{handleShowModal:function(e){this.showModal=!!e},handleButtonAction:function(){this.$store.dispatch("app/handleFavorite",this.artPiece.objectNumber)}},components:{"v-popup":V,"v-favorite-button":M}},Q=q,G=(r("4ce1"),Object(s["a"])(Q,x,k,!1,null,null,null)),H=G.exports;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Object(d["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={name:"Home",computed:Y(Y({},Object(b["d"])({page:function(e){return e.app.page},loading:function(e){return e.app.loading}})),Object(b["c"])("app",{artPieces:"getArtPiecesList"})),data:function(){return{loader:r("a72f")}},methods:Y({},Object(b["b"])("app",{loadPage:"loadPage"})),mounted:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.loadPage();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),components:{"v-card":H}},z=Z,W=(r("21bb"),Object(s["a"])(z,A,C,!1,null,null,null)),X=W.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"favorite"},[r("h1",[e._v("Favorite")]),0===e.artPieces.length?r("div",{staticClass:"favorite__empty"},[r("h4",[e._v("It's empty here...")]),r("h4",[e._v("Add something to Favorites!")])]):e._e(),r("div",{staticClass:"favorite__grid-wrapper"},[r("section",{staticClass:"favorite__cards-list"},e._l(e.artPieces,(function(e){return r("v-card",{key:e.objectNumber,attrs:{artPiece:e}})})),1)])])},te=[];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){Object(d["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne={name:"Favorite",computed:ae({},Object(b["c"])("app",{artPieces:"getFavoriteArtPieces"})),components:{"v-card":H}},oe=ne,ie=(r("9b08"),Object(s["a"])(oe,ee,te,!1,null,null,null)),ce=ie.exports;a["a"].use(S["a"]);var se,ue=new S["a"]({mode:"history",routes:[{path:"/",name:"home",component:X},{path:"/favorite",name:"favorite",component:ce}]}),le=(r("7514"),r("75fc")),pe=r("bc3a"),fe=r.n(pe),ve=fe.a.create({baseURL:"https://api.harvardartmuseums.org/object",timeout:5e3}),de="unknown century",be="unknown author",me="unknown date",ge={getArtPiecesPage:function(e){var t=Object({NODE_ENV:"production",VUE_APP_REQUEST_SIZE:"20",VUE_APP_REQUEST_API_KEY:"90f91620-7d8f-11ea-995a-efc19ec4eb40",VUE_APP_API_BASE_URL:"https://api.harvardartmuseums.org/object",BASE_URL:"/"}),r=t.VUE_APP_REQUEST_SIZE,a=t.VUE_APP_REQUEST_API_KEY;return ve({method:"GET",params:{page:e,size:r,apikey:a}}).then((function(e){var t=e.data,r=t.info,a=t.records,n={prev:r.prev?r.prev:null,next:r.next,page:r.page,artPiecesList:a.map((function(e){var t=e.title,r=e.primaryimageurl,a=e.people,n=e.objectnumber,o=e.dated,i=e.url,c=e.century,s=a?a.map((function(e){return e.displayname})).join(", "):be;return{title:t,date:o||me,url:i,century:c||de,namesOfPeople:s,objectNumber:n,primaryImageUrl:r}}))};return Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}},he="APP_SET_ERRORS",_e="APP_SET_LOADING",Pe="APP_SET_PAGE_STATE",Oe="APP_SET_ART_PIECES_LIST",je="APP_ADD_FAVORITE",ye="APP_SET_FAVORITES",we="APP_SET_FAVORITE_ART_PIECES",Ee="vue-museums-favorites-list",Se="vue-museums-favorites";function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Object(d["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ie=function(){return{loading:!0,prev:null,next:null,page:1,errors:[],artPiecesList:[],favorites:{},favoriteArtPiecesList:[]}},xe={getArtPiecesList:function(e){return e.artPiecesList.map((function(t){var r=!!e.favorites[t.objectNumber];return Ce(Ce({},t),{},{isFavorite:r})}))},getFavoriteArtPieces:function(e){return e.favoriteArtPieces}},ke={loadPage:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,e.next=3,ge.getArtPiecesPage(a.page);case 3:n=e.sent,r(Pe,n),o=n.artPiecesList.map((function(e){var t=!!a.favorites[e.objectNumber];return Ce(Ce({},e),{},{isFavorite:t})})),r(Oe,o),r(_e,0===a.artPiecesList.length);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),handleFavorite:function(e,t){var r=e.commit;r(je,t)},handleInitialData:function(e,t){var r=e.commit,a=t.favorites,n=t.favoriteArtPieces;r(ye,a),r(we,n)},handlePageChange:function(e,t){var r=e.commit,a=e.state,n=e.dispatch;(t<a.page&&a.prev||t>a.page&&a.next)&&(r(Pe,Ce(Ce({},a),{},{page:t})),n("loadPage",t))}},Fe=(se={},Object(d["a"])(se,he,(function(e,t){e.errors=t})),Object(d["a"])(se,_e,(function(e,t){console.log(t),e.loading=t})),Object(d["a"])(se,Pe,(function(e,t){var r=t.page,a=t.prev,n=t.next;e.page=r,e.prev=a,e.next=n})),Object(d["a"])(se,Oe,(function(e,t){e.artPiecesList=t})),Object(d["a"])(se,we,(function(e,t){a["a"].set(e,"favoriteArtPieces",t)})),Object(d["a"])(se,ye,(function(e,t){a["a"].set(e,"favorites",t)})),Object(d["a"])(se,je,(function(e,t){var r=JSON.parse(localStorage.getItem(Se)),n=JSON.parse(localStorage.getItem(Ee)),o=Ce({},r),i=Object(le["a"])(n);o[t]=!r[t],r[t]?i=i.filter((function(e){return e.objectNumber!==t})):i.push(Ce(Ce({},e.artPiecesList.find((function(e){return e.objectNumber===t}))),{},{isFavorite:!0}));var c=JSON.stringify(o),s=JSON.stringify(i);localStorage.setItem(Se,c),localStorage.setItem(Ee,s),a["a"].set(e,"favorites",o),a["a"].set(e,"favoriteArtPieces",i)})),se),Ne={namespaced:!0,state:Ie,getters:xe,actions:ke,mutations:Fe};a["a"].use(b["a"]);var De,Te=!1,Le=new b["a"].Store({modules:{app:Ne},strict:Te});a["a"].directive("click-in",{bind:function(e,t,r){De=function(e){e.stopPropagation();var a=t.value,n=a.handler,o=a.include,i=!1;o.forEach((function(t){if(!i){var a=r.context.$refs[t];i=a.contains(e.target)}})),i&&r.context[n]()},e.addEventListener("click",De),e.addEventListener("touchstart",De)},unbind:function(e){e.removeEventListener("click",De),e.removeEventListener("touchstart",De)}}),a["a"].config.productionTip=!1,new a["a"]({router:ue,store:Le,render:function(e){return e(E)},data:{favoriteArtPieces:[],favorites:{}},methods:{handleSet:function(e,t){this.$store.dispatch("app/handleInitialData",{favorites:e,favoriteArtPieces:t})}},mounted:function(){if(localStorage.getItem(Ee)&&localStorage.getItem(Se)){var e=localStorage.getItem(Se),t=localStorage.getItem(Ee);this.handleSet(JSON.parse(e),JSON.parse(t))}else localStorage.setItem(Ee,JSON.stringify(this.favoriteArtPieces)),localStorage.setItem(Se,JSON.stringify(this.favorites))}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var a=r("e332"),n=r.n(a);n.a},"71ed":function(e,t,r){},"7a98":function(e,t,r){},"7c18":function(e,t,r){e.exports=r.p+"img/favorite_filled.d9b06de9.svg"},"8ec9":function(e,t,r){"use strict";var a=r("3ccc"),n=r.n(a);n.a},9350:function(e,t,r){},"951a":function(e,t,r){e.exports=r.p+"img/default.440b9b23.jpg"},"9b08":function(e,t,r){"use strict";var a=r("9350"),n=r.n(a);n.a},a72f:function(e,t,r){e.exports=r.p+"img/loader.2bfb2593.svg"},a7c8:function(e,t,r){e.exports=r.p+"img/clear.5bb294ba.svg"},cae0:function(e,t,r){"use strict";var a=r("71ed"),n=r.n(a);n.a},dd83:function(e,t,r){},e332:function(e,t,r){},f7b8:function(e,t,r){}});
//# sourceMappingURL=app.9b8ded07.js.map